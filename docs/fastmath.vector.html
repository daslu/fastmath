<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>fastmath.vector documentation</title><script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Fastmath</span> <span class="project-version">0.1.2-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fastmath</span></div></div></li><li class="depth-2 branch"><a href="fastmath.complex.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complex</span></div></a></li><li class="depth-2 branch"><a href="fastmath.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="fastmath.easings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>easings</span></div></a></li><li class="depth-2 branch"><a href="fastmath.fields.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fields</span></div></a></li><li class="depth-2 branch"><a href="fastmath.interpolation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolation</span></div></a></li><li class="depth-2 branch"><a href="fastmath.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-2 branch"><a href="fastmath.rbf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rbf</span></div></a></li><li class="depth-2 branch"><a href="fastmath.stats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stats</span></div></a></li><li class="depth-2 branch"><a href="fastmath.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 current"><a href="fastmath.vector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="fastmath.vector.html#var--.3EArrayVec"><div class="inner"><span>-&gt;ArrayVec</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var--.3EVec2"><div class="inner"><span>-&gt;Vec2</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var--.3EVec3"><div class="inner"><span>-&gt;Vec3</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var--.3EVec4"><div class="inner"><span>-&gt;Vec4</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-aligned.3F"><div class="inner"><span>aligned?</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-angle-between"><div class="inner"><span>angle-between</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-array-.3Evec2"><div class="inner"><span>array-&gt;vec2</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-array-.3Evec3"><div class="inner"><span>array-&gt;vec3</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-array-.3Evec4"><div class="inner"><span>array-&gt;vec4</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-array-vec"><div class="inner"><span>array-vec</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-average-vectors"><div class="inner"><span>average-vectors</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist"><div class="inner"><span>dist</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-abs"><div class="inner"><span>dist-abs</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-canberra"><div class="inner"><span>dist-canberra</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-cheb"><div class="inner"><span>dist-cheb</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-cos"><div class="inner"><span>dist-cos</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-discrete"><div class="inner"><span>dist-discrete</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-emd"><div class="inner"><span>dist-emd</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-dist-sq"><div class="inner"><span>dist-sq</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-distances"><div class="inner"><span>distances</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-ediv"><div class="inner"><span>ediv</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-faceforward"><div class="inner"><span>faceforward</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-generate-vec2"><div class="inner"><span>generate-vec2</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-generate-vec3"><div class="inner"><span>generate-vec3</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-generate-vec4"><div class="inner"><span>generate-vec4</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-limit"><div class="inner"><span>limit</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-normalize"><div class="inner"><span>normalize</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-relative-angle-between"><div class="inner"><span>relative-angle-between</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-set-mag"><div class="inner"><span>set-mag</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-TOLERANCE"><div class="inner"><span>TOLERANCE</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-vec2"><div class="inner"><span>vec2</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-vec3"><div class="inner"><span>vec3</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-vec4"><div class="inner"><span>vec4</span></div></a></li><li class="depth-1"><a href="fastmath.vector.html#var-VectorProto"><div class="inner"><span>VectorProto</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-abs"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>abs</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-add"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-applyf"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>applyf</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-approx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>approx</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-axis-rotate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>axis-rotate</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-base-from"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base-from</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-cross"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cross</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-div"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>div</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-dot"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dot</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-econstrain"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>econstrain</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-einterpolate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>einterpolate</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-emn"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>emn</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-emult"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>emult</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-emx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>emx</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-from-polar"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>from-polar</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-heading"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>heading</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-interpolate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interpolate</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-is-near-zero.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>is-near-zero?</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-is-zero.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>is-zero?</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-mag"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mag</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-magsq"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>magsq</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-maxdim"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>maxdim</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-mindim"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mindim</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-mn"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mn</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-mult"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mult</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-mx"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mx</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-permute"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>permute</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-perpendicular"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>perpendicular</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-reciprocal"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reciprocal</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-rotate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rotate</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-sub"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sub</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-sum"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sum</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-to-polar"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-polar</span></div></a></li><li class="depth-2 branch"><a href="fastmath.vector.html#var-to-vec"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>to-vec</span></div></a></li><li class="depth-2"><a href="fastmath.vector.html#var-transform"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">fastmath.vector</h1><div class="doc"><div class="markdown"><p>Mathematical vector operations.</p>
<h3><a href="#types" name="types"></a>Types</h3>
<ul>
  <li>Fixed size (custom types):
    <ul>
      <li>Vec2 - 2d vector, creator <a href="fastmath.vector.html#var-vec2">vec2</a></li>
      <li>Vec3 - 3d vector, creator <a href="fastmath.vector.html#var-vec3">vec3</a></li>
      <li>Vec4 - 4d vector, creator <a href="fastmath.vector.html#var-vec4">vec4</a></li>
      <li>ArrayVec - fixed size vector as double array, n-dimensional, creator <a href="null">arrayvec</a></li>
    </ul>
  </li>
  <li>Variable size:
    <ul>
      <li>Clojure’s PersistentVector, creator <code>[]</code>.</li>
    </ul>
  </li>
</ul>
<p><a href="fastmath.vector.html#var-VectorProto">VectorProto</a> defines most of the functions.</p>
<p>Vectors implements also:</p>
<ul>
  <li><code>Sequable</code></li>
  <li><code>Sequencial</code></li>
  <li><code>IFn</code></li>
  <li><code>Counted</code></li>
  <li><code>equals</code> and <code>toString</code> from <code>Object</code></li>
</ul>
<p>That means that vectors can be destructured, treated as sequence or called as a function. See <a href="fastmath.vector.html#var-vec2">vec2</a> for examples.</p></div><div class="markdown"><h4>Categories</h4><ul><li>Distance / length: <a href="fastmath.vector.html#var-dist">dist</a> <a href="fastmath.vector.html#var-dist-abs">dist-abs</a> <a href="fastmath.vector.html#var-dist-canberra">dist-canberra</a> <a href="fastmath.vector.html#var-dist-cheb">dist-cheb</a> <a href="fastmath.vector.html#var-dist-cos">dist-cos</a> <a href="fastmath.vector.html#var-dist-discrete">dist-discrete</a> <a href="fastmath.vector.html#var-dist-emd">dist-emd</a> <a href="fastmath.vector.html#var-dist-sq">dist-sq</a> <a href="fastmath.vector.html#var-distances">distances</a> <a href="fastmath.vector.html#var-limit">limit</a> <a href="fastmath.vector.html#var-mag">mag</a> <a href="fastmath.vector.html#var-magsq">magsq</a> <a href="fastmath.vector.html#var-normalize">normalize</a> <a href="fastmath.vector.html#var-set-mag">set-mag</a></li><li>Creators: <a href="fastmath.vector.html#var-array-.3Evec2">array-&gt;vec2</a> <a href="fastmath.vector.html#var-array-.3Evec3">array-&gt;vec3</a> <a href="fastmath.vector.html#var-array-.3Evec4">array-&gt;vec4</a> <a href="fastmath.vector.html#var-array-vec">array-vec</a> <a href="fastmath.vector.html#var-generate-vec2">generate-vec2</a> <a href="fastmath.vector.html#var-generate-vec3">generate-vec3</a> <a href="fastmath.vector.html#var-generate-vec4">generate-vec4</a> <a href="fastmath.vector.html#var-to-vec">to-vec</a> <a href="fastmath.vector.html#var-vec2">vec2</a> <a href="fastmath.vector.html#var-vec3">vec3</a> <a href="fastmath.vector.html#var-vec4">vec4</a></li><li>Geometric: <a href="fastmath.vector.html#var-aligned.3F">aligned?</a> <a href="fastmath.vector.html#var-angle-between">angle-between</a> <a href="fastmath.vector.html#var-axis-rotate">axis-rotate</a> <a href="fastmath.vector.html#var-base-from">base-from</a> <a href="fastmath.vector.html#var-cross">cross</a> <a href="fastmath.vector.html#var-dot">dot</a> <a href="fastmath.vector.html#var-faceforward">faceforward</a> <a href="fastmath.vector.html#var-from-polar">from-polar</a> <a href="fastmath.vector.html#var-heading">heading</a> <a href="fastmath.vector.html#var-mag">mag</a> <a href="fastmath.vector.html#var-magsq">magsq</a> <a href="fastmath.vector.html#var-perpendicular">perpendicular</a> <a href="fastmath.vector.html#var-relative-angle-between">relative-angle-between</a> <a href="fastmath.vector.html#var-rotate">rotate</a> <a href="fastmath.vector.html#var-to-polar">to-polar</a> <a href="fastmath.vector.html#var-transform">transform</a></li><li>Operations: <a href="fastmath.vector.html#var-abs">abs</a> <a href="fastmath.vector.html#var-add">add</a> <a href="fastmath.vector.html#var-applyf">applyf</a> <a href="fastmath.vector.html#var-approx">approx</a> <a href="fastmath.vector.html#var-average-vectors">average-vectors</a> <a href="fastmath.vector.html#var-div">div</a> <a href="fastmath.vector.html#var-econstrain">econstrain</a> <a href="fastmath.vector.html#var-ediv">ediv</a> <a href="fastmath.vector.html#var-einterpolate">einterpolate</a> <a href="fastmath.vector.html#var-emn">emn</a> <a href="fastmath.vector.html#var-emult">emult</a> <a href="fastmath.vector.html#var-emx">emx</a> <a href="fastmath.vector.html#var-interpolate">interpolate</a> <a href="fastmath.vector.html#var-is-near-zero.3F">is-near-zero?</a> <a href="fastmath.vector.html#var-is-zero.3F">is-zero?</a> <a href="fastmath.vector.html#var-maxdim">maxdim</a> <a href="fastmath.vector.html#var-mindim">mindim</a> <a href="fastmath.vector.html#var-mn">mn</a> <a href="fastmath.vector.html#var-mult">mult</a> <a href="fastmath.vector.html#var-mx">mx</a> <a href="fastmath.vector.html#var-permute">permute</a> <a href="fastmath.vector.html#var-reciprocal">reciprocal</a> <a href="fastmath.vector.html#var-sub">sub</a> <a href="fastmath.vector.html#var-sum">sum</a></li></ul><p>Other vars: <a href="fastmath.vector.html#var--.3EArrayVec">-&gt;ArrayVec</a> <a href="fastmath.vector.html#var--.3EVec2">-&gt;Vec2</a> <a href="fastmath.vector.html#var--.3EVec3">-&gt;Vec3</a> <a href="fastmath.vector.html#var--.3EVec4">-&gt;Vec4</a></p></div><div class="markdown"><h4>Constants</h4><ul><li><a href="fastmath.vector.html#var-TOLERANCE">TOLERANCE</a> = <code>1.0E-6</code></li></ul></div></div><div class="public anchor" id="var--.3EArrayVec"><h3>-&gt;ArrayVec</h3><div class="usage"><code>(-&gt;ArrayVec array)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class fastmath.vector.ArrayVec.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L162">view source</a></div></div><div class="public anchor" id="var--.3EVec2"><h3>-&gt;Vec2</h3><div class="usage"><code>(-&gt;Vec2 x y)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class fastmath.vector.Vec2.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L224">view source</a></div></div><div class="public anchor" id="var--.3EVec3"><h3>-&gt;Vec3</h3><div class="usage"><code>(-&gt;Vec3 x y z)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class fastmath.vector.Vec3.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L318">view source</a></div></div><div class="public anchor" id="var--.3EVec4"><h3>-&gt;Vec4</h3><div class="usage"><code>(-&gt;Vec4 x y z w)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class fastmath.vector.Vec4.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L488">view source</a></div></div><div class="public anchor" id="var-aligned.3F"><h3>aligned?</h3><div class="usage"><code>(aligned? v1 v2)</code></div><div class="doc"><div class="markdown"><p>Are vectors aligned (have the same direction)?</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(aligned? (vec2 1.0 1.0) (vec2 2.0 2.000001))
;;=&gt; true
(aligned? (vec2 1.0 1.0) (vec2 2.0 2.00001))
;;=&gt; false</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L794">view source</a></div></div><div class="public anchor" id="var-angle-between"><h3>angle-between</h3><div class="usage"><code>(angle-between v1 v2)</code></div><div class="doc"><div class="markdown"><p>Angle between two vectors</p>
<p>See also <a href="fastmath.vector.html#var-relative-angle-between">relative-angle-between</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(m/degrees (angle-between (vec3 1.0 0.0 0.0) (vec3 0.0 1.0 0.0)))
;;=&gt; 90.0
(m/degrees (angle-between (vec (repeatedly 50 rand))
                          (vec (repeatedly 50 rand))))
;;=&gt; 39.49123869443997</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L765">view source</a></div></div><div class="public anchor" id="var-array-.3Evec2"><h3>array-&gt;vec2</h3><div class="usage"><code>(array-&gt;vec2 a)</code></div><div class="doc"><div class="markdown"><p>Doubles array to Vec2</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(array-&gt;vec2 (double-array [11 22 33 44 55]))
;;=&gt; #vec2 [11.0, 22.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L841">view source</a></div></div><div class="public anchor" id="var-array-.3Evec3"><h3>array-&gt;vec3</h3><div class="usage"><code>(array-&gt;vec3 a)</code></div><div class="doc"><div class="markdown"><p>Doubles array to Vec3</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(array-&gt;vec3 (double-array [11 22 33 44 55]))
;;=&gt; #vec3 [11.0, 22.0, 33.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L848">view source</a></div></div><div class="public anchor" id="var-array-.3Evec4"><h3>array-&gt;vec4</h3><div class="usage"><code>(array-&gt;vec4 a)</code></div><div class="doc"><div class="markdown"><p>Doubles array to Vec4</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(array-&gt;vec4 (double-array [11 22 33 44 55]))
;;=&gt; #vec4 [11.0, 22.0, 33.0, 44.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L855">view source</a></div></div><div class="public anchor" id="var-array-vec"><h3>array-vec</h3><div class="usage"><code>(array-vec xs)</code></div><div class="doc"><div class="markdown"><p>Make ArrayVec type based on provided sequence <code>xs</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(array-vec [1 2 3 4 5 6 7])
;;=&gt; #arrayvec [1.0 2.0 3.0 4.0 5.0 6.0 7.0]
(array-vec (range 0.0 1.0 0.25))
;;=&gt; #arrayvec [0.0 0.25 0.5 0.75]</code></pre></div><div><blockquote><p>Operations</p></blockquote><pre><code class="hljs clojure">(nth (array-vec [9 8 7 6]) 2)
;;=&gt; 7.0
(count (array-vec (range 0.1 1.0 0.05)))
;;=&gt; 18
(seq (array-vec [1 2]))
;;=&gt; (1.0 2.0)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L614">view source</a></div></div><div class="public anchor" id="var-average-vectors"><h3>average-vectors</h3><div class="usage"><code>(average-vectors init vs)</code><code>(average-vectors vs)</code></div><div class="doc"><div class="markdown"><p>Average / centroid of vectors. Input: initial vector (optional), list of vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(average-vectors [[1 2] [0 1] [3 4] [1 2] [4 -1]])
;;=&gt; [1.8 1.6]
(average-vectors (vec2 0 0) [(vec2 1 1) (vec2 1 1) (vec2 1 1)])
;;=&gt; #vec2 [0.75, 0.75]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L636">view source</a></div></div><div class="public anchor" id="var-dist"><h3>dist</h3><div class="usage"><code>(dist v1 v2)</code></div><div class="doc"><div class="markdown"><p>Euclidean distance between vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 8.246211251235321
(dist [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 5.477225575051661</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L646">view source</a></div></div><div class="public anchor" id="var-dist-abs"><h3>dist-abs</h3><div class="usage"><code>(dist-abs v1 v2)</code></div><div class="doc"><div class="markdown"><p>Manhattan distance between vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-abs (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 14.0
(dist-abs [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 10.0</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L664">view source</a></div></div><div class="public anchor" id="var-dist-canberra"><h3>dist-canberra</h3><div class="usage"><code>(dist-canberra v1 v2)</code></div><div class="doc"><div class="markdown"><p>Canberra distance</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-canberra (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 3.0
(dist-canberra [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 1.4563492063492063</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L691">view source</a></div></div><div class="public anchor" id="var-dist-cheb"><h3>dist-cheb</h3><div class="usage"><code>(dist-cheb v1 v2)</code></div><div class="doc"><div class="markdown"><p>Chebyshev distance between 2d vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-cheb (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 6.0
(dist-cheb [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 4.0</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L673">view source</a></div></div><div class="public anchor" id="var-dist-cos"><h3>dist-cos</h3><div class="usage"><code>(dist-cos v1 v2)</code></div><div class="doc"><div class="markdown"><p>Cosine distance</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-cos (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 1.8082903768654761
(dist-cos [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 0.041122268700070075</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L714">view source</a></div></div><div class="public anchor" id="var-dist-discrete"><h3>dist-discrete</h3><div class="usage"><code>(dist-discrete v1 v2)</code></div><div class="doc"><div class="markdown"><p>Discrete distance between 2d vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-discrete (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 3.0
(dist-discrete [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 4.0</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L682">view source</a></div></div><div class="public anchor" id="var-dist-emd"><h3>dist-emd</h3><div class="usage"><code>(dist-emd v1 v2)</code></div><div class="doc"><div class="markdown"><p>Earth Mover’s Distance</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-emd (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 4.0
(dist-emd [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 10.0</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L702">view source</a></div></div><div class="public anchor" id="var-dist-sq"><h3>dist-sq</h3><div class="usage"><code>(dist-sq v1 v2)</code></div><div class="doc"><div class="markdown"><p>Squared Euclidean distance between vectors</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dist-sq (vec4 1.0 2.0 -1.0 -2.0) (vec4 1.0 -2.0 3.0 4.0))
;;=&gt; 68.0
(dist-sq [9 8 7 6 5 4 3 2 1] [9 8 7 6 5 5 5 5 5])
;;=&gt; 30.0</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L655">view source</a></div></div><div class="public anchor" id="var-distances"><h3>distances</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>List of distances</p></blockquote><pre><code class="hljs clojure">(sort (keys distances))
;;=&gt; (:abs :canberra :cheb :cosine :discrete :emd :euclid :euclid-sq)</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L724">view source</a></div></div><div class="public anchor" id="var-ediv"><h3>ediv</h3><div class="usage"><code>(ediv v1 v2)</code></div><div class="doc"><div class="markdown"><p>Element-wise division of two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(ediv (vec2 1 3) (vec2 2 4))
;;=&gt; #vec2 [0.5, 0.75]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L629">view source</a></div></div><div class="public anchor" id="var-faceforward"><h3>faceforward</h3><div class="usage"><code>(faceforward n v)</code></div><div class="doc"><div class="markdown"><p>Flip normal <code>n</code> to match the same direction as <code>v</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(faceforward (vec2 1.0 1.0) (vec2 -1.0 -3.0))
;;=&gt; #vec2 [-1.0, -1.0]
(faceforward (vec2 1.0 1.0) (vec2 1.0 0.0))
;;=&gt; #vec2 [1.0, 1.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L803">view source</a></div></div><div class="public anchor" id="var-generate-vec2"><h3>generate-vec2</h3><div class="usage"><code>(generate-vec2 f1 f2)</code><code>(generate-vec2 f)</code></div><div class="doc"><div class="markdown"><p>Generate Vec2 with fn(s)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(generate-vec2 (constantly 2))
;;=&gt; #vec2 [2.0, 2.0]
(generate-vec2 rand (constantly 1))
;;=&gt; #vec2 [0.349322942417712, 1.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L814">view source</a></div></div><div class="public anchor" id="var-generate-vec3"><h3>generate-vec3</h3><div class="usage"><code>(generate-vec3 f1 f2 f3)</code><code>(generate-vec3 f)</code></div><div class="doc"><div class="markdown"><p>Generate Vec3 with fn(s)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(generate-vec3 rand)
;;=&gt; #vec3 [0.5737576988205653, 0.3854950882029886, 0.11528110880246423]
(generate-vec3 rand (constantly 1) (constantly 2))
;;=&gt; #vec3 [0.992474580901242, 1.0, 2.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L823">view source</a></div></div><div class="public anchor" id="var-generate-vec4"><h3>generate-vec4</h3><div class="usage"><code>(generate-vec4 f1 f2 f3 f4)</code><code>(generate-vec4 f)</code></div><div class="doc"><div class="markdown"><p>Generate Vec4 with fn(s)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(generate-vec4 rand)
;;=&gt; #vec4 [0.7392821889226321, 0.1099042329265485, 0.29705815692243587, 0.17151660286410986]
(generate-vec4 rand rand (constantly 1) (constantly 2))
;;=&gt; #vec4 [0.7104827453991178, 0.9083883505380417, 1.0, 2.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L832">view source</a></div></div><div class="public anchor" id="var-limit"><h3>limit</h3><div class="usage"><code>(limit v len)</code></div><div class="doc"><div class="markdown"><p>Limit length of the vector by given value</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(limit (vec3 1.0 1.0 1.0) 1.0)
;;=&gt; #vec3 [0.5773502691896258, 0.5773502691896258, 0.5773502691896258]
(limit (vec3 1.0 1.0 1.0) 2.0)
;;=&gt; #vec3 [1.0, 1.0, 1.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L754">view source</a></div></div><div class="public anchor" id="var-normalize"><h3>normalize</h3><div class="usage"><code>(normalize v)</code></div><div class="doc"><div class="markdown"><p>Normalize vector (set length = 1.0)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(normalize (vec2 1.0 -1.0))
;;=&gt; #vec2 [0.7071067811865475, -0.7071067811865475]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L735">view source</a></div></div><div class="public anchor" id="var-relative-angle-between"><h3>relative-angle-between</h3><div class="usage"><code>(relative-angle-between v1 v2)</code></div><div class="doc"><div class="markdown"><p>Angle between two vectors relative to each other.</p>
<p>See also <a href="fastmath.vector.html#var-angle-between">angle-between</a>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(m/degrees (relative-angle-between (vec3 1.0 0.0 0.0)
                                   (vec3 0.0 1.0 0.0)))
;;=&gt; 90.0
(m/degrees (relative-angle-between (vec (repeatedly 50 rand))
                                   (vec (repeatedly 50 rand))))
;;=&gt; 0.9916714330962518</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L783">view source</a></div></div><div class="public anchor" id="var-set-mag"><h3>set-mag</h3><div class="usage"><code>(set-mag v len)</code></div><div class="doc"><div class="markdown"><p>Set length of the vector</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(set-mag (vec2 0.22 0.22) (m/sqrt 2.0))
;;=&gt; #vec2 [1.0000000000000002, 1.0000000000000002]
(set-mag (vec2 1.0 1.0) 0.0)
;;=&gt; #vec2 [0.0, 0.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L745">view source</a></div></div><div class="public anchor" id="var-TOLERANCE"><h3>TOLERANCE</h3><h4 class="dynamic">const</h4><div class="usage"></div><div><div class="markdown"><code class="hljs clojure">;;=&gt; 1.0E-6</code></div></div><div class="doc"><div class="markdown"><p>Tolerance used in <a href="fastmath.vector.html#var-is-near-zero.3F">is-near-zero?</a>. Values less than this value are treated as zero.</p></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L49">view source</a></div></div><div class="public anchor" id="var-vec2"><h3>vec2</h3><div class="usage"><code>(vec2 x y)</code></div><div class="doc"><div class="markdown"><p>Make 2d vector</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(vec2 0.5 -0.5)
;;=&gt; #vec2 [0.5, -0.5]</code></pre></div><div><blockquote><p>Destructuring</p></blockquote><pre><code class="hljs clojure">(let [[x y] (vec2 4.3 2.2)] (+ x y))
;;=&gt; 6.5</code></pre></div><div><blockquote><p>As function</p></blockquote><pre><code class="hljs clojure">[((vec2 11 22) 0) ((vec2 11 22) 1)]
;;=&gt; [11.0 22.0]</code></pre></div><div><blockquote><p>As sequence</p></blockquote><pre><code class="hljs clojure">(map (fn* [p1__5992#] (* 2.0 p1__5992#)) (vec2 1 2))
;;=&gt; (2.0 4.0)
(reduce clojure.core/+ (vec2 6 4))
;;=&gt; 10.0
(cons 6.0 (vec2 3 4))
;;=&gt; (6.0 3.0 4.0)
(first (vec2 3 4))
;;=&gt; 3.0
(second (vec2 3 4))
;;=&gt; 4.0
(last (vec2 3 4))
;;=&gt; 4.0
(nth (vec2 3 4) 1)
;;=&gt; 4.0
(filter clojure.core/neg? (vec2 -1 2))
;;=&gt; (-1.0)</code></pre></div><div><blockquote><p>Count</p></blockquote><pre><code class="hljs clojure">(count (vec2 4 3))
;;=&gt; 2</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L570">view source</a></div></div><div class="public anchor" id="var-vec3"><h3>vec3</h3><div class="usage"><code>(vec3 x y z)</code><code>(vec3 v z)</code></div><div class="doc"><div class="markdown"><p>Make Vec2 vector</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(vec3 0.5 -0.5 1.0)
;;=&gt; #vec3 [0.5, -0.5, 1.0]
(let [v (vec2 1 2)] (vec3 v -1.0))
;;=&gt; #vec3 [1.0, 2.0, -1.0]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L591">view source</a></div></div><div class="public anchor" id="var-vec4"><h3>vec4</h3><div class="usage"><code>(vec4 x y z w)</code><code>(vec4 v w)</code><code>(vec4 v z w)</code></div><div class="doc"><div class="markdown"><p>Make Vec4 vector</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(vec4 0.5 -0.5 1.0 -1.0)
;;=&gt; #vec4 [0.5, -0.5, 1.0, -1.0]
(let [v (vec2 1 2)] (vec4 v -1.0 0.1))
;;=&gt; #vec4 [1.0, 2.0, -1.0, 0.1]
(let [v (vec3 0 1 2)] (vec4 v 0.1))
;;=&gt; #vec4 [0.0, 1.0, 2.0, 0.1]</code></pre></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L601">view source</a></div></div><div class="public anchor" id="var-VectorProto"><h3>VectorProto</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Vector operations</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-abs"><h3>abs</h3><div class="usage"><code>(abs v1)</code></div><div class="doc"><div class="markdown"><p>Absolute value of vector elements</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(abs (array-vec [-1 2 -2 1]))
;;=&gt; #arrayvec [1.0 2.0 2.0 1.0]</code></pre></div></div></div><div class="public anchor" id="var-add"><h3>add</h3><div class="usage"><code>(add v1)</code><code>(add v1 v2)</code></div><div class="doc"><div class="markdown"><p>Sum of two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(add (vec2 1 2) (vec2 -1 -2))
;;=&gt; #vec2 [0.0, 0.0]</code></pre></div></div></div><div class="public anchor" id="var-applyf"><h3>applyf</h3><div class="usage"><code>(applyf v f)</code></div><div class="doc"><div class="markdown"><p>Apply function to all vector values (like map but returns the same type).</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(applyf [5 3] (fn [v] (m/sin v)))
;;=&gt; [-0.9589242746631386 0.1411200080598671]</code></pre></div></div></div><div class="public anchor" id="var-approx"><h3>approx</h3><div class="usage"><code>(approx v)</code><code>(approx v d)</code></div><div class="doc"><div class="markdown"><p>Round to 2 (or <code>d</code>) decimal places</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(approx (vec2 (m/sin -1) (m/cos 1)))
;;=&gt; #vec2 [-0.84, 0.54]
(approx (vec2 (m/sin -1) (m/cos 1)) 6)
;;=&gt; #vec2 [-0.841471, 0.540302]</code></pre></div></div></div><div class="public anchor" id="var-axis-rotate"><h3>axis-rotate</h3><div class="usage"><code>(axis-rotate v1 angle axis)</code><code>(axis-rotate v1 angle axis pivot)</code></div><div class="doc"><div class="markdown"><p>Rotate around axis, 3d only</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(axis-rotate (vec3 1.0 0.0 0.0) m/HALF_PI (vec3 0.0 1.0 0.0))
;;=&gt; #vec3 [6.12323399538461E-17, 0.0, -1.0]
(axis-rotate (vec3 1.0 0.0 0.0)
             m/HALF_PI
             (vec3 0.0 1.0 0.0)
             (vec3 1.0 1.0 1.0))
;;=&gt; #vec3 [0.0, 0.0, 0.9999999999999999]</code></pre></div></div></div><div class="public anchor" id="var-base-from"><h3>base-from</h3><div class="usage"><code>(base-from v)</code></div><div class="doc"><div class="markdown"><p>List of perpendicular vectors (basis)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(base-from (vec3 0.1 1.0 -1.0))
;;=&gt; [#vec3 [0.1, 1.0, -1.0]
;;=&gt;  #vec3 [0.0, -0.7071067811865475, -0.7071067811865475]
;;=&gt;  #vec3 [-1.414213562373095, 0.07071067811865475, -0.07071067811865475]]
(base-from (vec2 1.0 0.0))
;;=&gt; [#vec2 [1.0, 0.0] #vec2 [-0.0, 1.0]]</code></pre></div></div></div><div class="public anchor" id="var-cross"><h3>cross</h3><div class="usage"><code>(cross v1 v2)</code></div><div class="doc"><div class="markdown"><p>Cross product</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(cross (vec3 1 2 3) (vec3 4 3 2))
;;=&gt; #vec3 [-5.0, 10.0, -5.0]
(cross (vec2 1 2) (vec2 -1 2))
;;=&gt; 4.0</code></pre></div></div></div><div class="public anchor" id="var-div"><h3>div</h3><div class="usage"><code>(div v1 v)</code></div><div class="doc"><div class="markdown"><p>Divide vector by number <code>v</code></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(div [5 4 3 5] 4.0)
;;=&gt; [1.25 1.0 0.75 1.25]</code></pre></div></div></div><div class="public anchor" id="var-dot"><h3>dot</h3><div class="usage"><code>(dot v1 v2)</code></div><div class="doc"><div class="markdown"><p>Dot product of two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(dot (vec4 1 0 0 0) (vec4 -1 0 -1 0))
;;=&gt; -1.0</code></pre></div></div></div><div class="public anchor" id="var-econstrain"><h3>econstrain</h3><div class="usage"><code>(econstrain v val1 val2)</code></div><div class="doc"><div class="markdown"><p>Element-wise constrain</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(econstrain (vec3 2 0 -2) -1 1)
;;=&gt; #vec3 [1.0, 0.0, -1.0]</code></pre></div></div></div><div class="public anchor" id="var-einterpolate"><h3>einterpolate</h3><div class="usage"><code>(einterpolate v1 v2 v)</code><code>(einterpolate v1 v2 v f)</code></div><div class="doc"><div class="markdown"><p>Interpolate vectors element-wise, optionally set interpolation fn</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(einterpolate (vec2 -1 -1) (vec2 1 1) (vec2 0.25 0.75))
;;=&gt; #vec2 [-0.5, 0.5]
(einterpolate (vec2 -1 -1)
              (vec2 1 1)
              (vec2 0.25 0.75)
              m/smooth-interpolation)
;;=&gt; #vec2 [-0.6875, 0.6875]</code></pre></div></div></div><div class="public anchor" id="var-emn"><h3>emn</h3><div class="usage"><code>(emn v1 v2)</code></div><div class="doc"><div class="markdown"><p>Element-wise min from two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(emn [-1 2] [1 -2])
;;=&gt; [-1 -2]</code></pre></div></div></div><div class="public anchor" id="var-emult"><h3>emult</h3><div class="usage"><code>(emult v1 v)</code></div><div class="doc"><div class="markdown"><p>Element-wise vector multiplication (Hadamard product).</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(emult (vec3 1 2 3) (vec3 9 9 9))
;;=&gt; #vec3 [9.0, 18.0, 27.0]</code></pre></div></div></div><div class="public anchor" id="var-emx"><h3>emx</h3><div class="usage"><code>(emx v1 v2)</code></div><div class="doc"><div class="markdown"><p>Element-wise max from two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(emx [-1 2] [1 -2])
;;=&gt; [1 2]</code></pre></div></div></div><div class="public anchor" id="var-from-polar"><h3>from-polar</h3><div class="usage"><code>(from-polar v1)</code></div><div class="doc"><div class="markdown"><p>From polar coordinates (2d, 3d only)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(from-polar (vec2 1.0 (m/radians 90)))
;;=&gt; #vec2 [6.12323399538461E-17, 1.0]
(from-polar (vec3 1.0 (m/radians 90) (m/radians 45)))
;;=&gt; #vec3 [0.7071067811865476, 0.7071067811865475, 6.12323399538461E-17]</code></pre></div><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(to-polar (vec2 1.0 1.0))
;;=&gt; #vec2 [1.4142135623730951, 0.7853981633974483]
(to-polar (vec3 1.0 0.0 1.0))
;;=&gt; #vec3 [1.4142135623730951, 0.7853981633974483, 0.0]</code></pre></div></div></div><div class="public anchor" id="var-heading"><h3>heading</h3><div class="usage"><code>(heading v1)</code></div><div class="doc"><div class="markdown"><p>Angle between vector and unit vector <code>[1,0,...]</code></p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(m/degrees (heading (vec2 1.0 1.0)))
;;=&gt; 45.0
(m/degrees (heading (vec3 1.0 0.0 1.0)))
;;=&gt; 45.0
(m/degrees (heading (vec4 1.0 -1.0 1.0 -1.0)))
;;=&gt; 59.99999999999999
(heading [1 2 3 4 5 6 7 8 9])
;;=&gt; 1.5115267439240436
(heading (array-vec [1 2 3 4 5 6 7 8 9]))
;;=&gt; 1.5115267439240436</code></pre></div></div></div><div class="public anchor" id="var-interpolate"><h3>interpolate</h3><div class="usage"><code>(interpolate v1 v2 t)</code><code>(interpolate v1 v2 t f)</code></div><div class="doc"><div class="markdown"><p>Interpolate vectors, optionally set interpolation fn</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(interpolate (vec2 -1 -1) (vec2 1 1) 0.25)
;;=&gt; #vec2 [-0.5, -0.5]
(interpolate (vec2 -1 -1) (vec2 1 1) 0.25 m/smooth-interpolation)
;;=&gt; #vec2 [-0.6875, -0.6875]</code></pre></div></div></div><div class="public anchor" id="var-is-near-zero.3F"><h3>is-near-zero?</h3><div class="usage"><code>(is-near-zero? v1)</code></div><div class="doc"><div class="markdown"><p>Is vector almost zero? (all absolute values of elements are less than <code>TOLERANCE</code>)</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(is-near-zero? [0 1.0E-7])
;;=&gt; true
(is-near-zero? [0 1.0E-6])
;;=&gt; false</code></pre></div></div></div><div class="public anchor" id="var-is-zero.3F"><h3>is-zero?</h3><div class="usage"><code>(is-zero? v1)</code></div><div class="doc"><div class="markdown"><p>Is vector zero?</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(is-zero? [0 1.0E-7])
;;=&gt; false
(is-zero? [0 0.0])
;;=&gt; true</code></pre></div></div></div><div class="public anchor" id="var-mag"><h3>mag</h3><div class="usage"><code>(mag v1)</code></div><div class="doc"><div class="markdown"><p>length of the vector.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Length of the vector</p></blockquote><pre><code class="hljs clojure">(mag (vec2 1 1))
;;=&gt; 1.4142135623730951<small>

;; Test: ok.</small></code></pre></div></div></div><div class="public anchor" id="var-magsq"><h3>magsq</h3><div class="usage"><code>(magsq v1)</code></div><div class="doc"><div class="markdown"><p>Length of the vector squared.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Length of the vector, squared</p></blockquote><pre><code class="hljs clojure">(magsq [1 2 1 2])
;;=&gt; 10.0<small>

;; Test: ok.</small></code></pre></div></div></div><div class="public anchor" id="var-maxdim"><h3>maxdim</h3><div class="usage"><code>(maxdim v)</code></div><div class="doc"><div class="markdown"><p>Index of maximum value.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [v (vec (repeatedly 100 (fn [] (- (int (rand-int 200)) 100))))
      mdim (maxdim v)]
  [mdim (v mdim)])
;;=&gt; [35 94]
(maxdim (vec3 1 2 3))
;;=&gt; 2</code></pre></div></div></div><div class="public anchor" id="var-mindim"><h3>mindim</h3><div class="usage"><code>(mindim v)</code></div><div class="doc"><div class="markdown"><p>Index of minimum value.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(let [v (vec (repeatedly 100 (fn [] (- (int (rand-int 200)) 100))))
      mdim (mindim v)]
  [mdim (v mdim)])
;;=&gt; [32 -99]
(mindim (vec3 1 2 3))
;;=&gt; 0</code></pre></div></div></div><div class="public anchor" id="var-mn"><h3>mn</h3><div class="usage"><code>(mn v1)</code></div><div class="doc"><div class="markdown"><p>Minimum value of vector elements</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(mn (vec4 -1 -2 3 4))
;;=&gt; -2.0</code></pre></div></div></div><div class="public anchor" id="var-mult"><h3>mult</h3><div class="usage"><code>(mult v1 v)</code></div><div class="doc"><div class="markdown"><p>Multiply vector by number <code>v</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(mult (vec4 5 4 3 5) 4.0)
;;=&gt; #vec4 [20.0, 16.0, 12.0, 20.0]</code></pre></div></div></div><div class="public anchor" id="var-mx"><h3>mx</h3><div class="usage"><code>(mx v1)</code></div><div class="doc"><div class="markdown"><p>Maximum value of vector elements</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(mx (vec4 -1 -2 3 4))
;;=&gt; 4.0</code></pre></div></div></div><div class="public anchor" id="var-permute"><h3>permute</h3><div class="usage"><code>(permute v idxs)</code></div><div class="doc"><div class="markdown"><p>Permute vector elements with given indices.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(permute (vec4 1 2 3 4) (vec4 0 3 2 1))
;;=&gt; #vec4 [1.0, 4.0, 3.0, 2.0]</code></pre></div></div></div><div class="public anchor" id="var-perpendicular"><h3>perpendicular</h3><div class="usage"><code>(perpendicular v1)</code><code>(perpendicular v1 v2)</code></div><div class="doc"><div class="markdown"><p>Perpendicular vector (only 2d).</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(perpendicular (vec2 -4 0))
;;=&gt; #vec2 [-0.0, -1.0]
(perpendicular (vec3 1.0 0.0 0.0) (vec3 0.0 -1.0 0.0))
;;=&gt; #vec3 [0.0, 0.0, -1.0]</code></pre></div></div></div><div class="public anchor" id="var-reciprocal"><h3>reciprocal</h3><div class="usage"><code>(reciprocal v)</code></div><div class="doc"><div class="markdown"><p>Reciprocal of elements.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(reciprocal (vec3 1 2 5))
;;=&gt; #vec3 [1.0, 0.5, 0.2]</code></pre></div></div></div><div class="public anchor" id="var-rotate"><h3>rotate</h3><div class="usage"><code>(rotate v1 angle)</code><code>(rotate v1 anglex angley anglez)</code></div><div class="doc"><div class="markdown"><p>Rotate vector</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(rotate (vec2 1 2) (m/radians 90))
;;=&gt; #vec2 [-2.0, 1.0000000000000002]
(rotate (vec3 1 2 3) (m/radians 90) 0 0)
;;=&gt; #vec3 [1.0, -3.0, 2.0]</code></pre></div></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><div class="usage"><code>(sub v1)</code><code>(sub v1 v2)</code></div><div class="doc"><div class="markdown"><p>Subtraction of two vectors.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(sub (vec2 1 2) (vec2 -1 -2))
;;=&gt; #vec2 [2.0, 4.0]</code></pre></div></div></div><div class="public anchor" id="var-sum"><h3>sum</h3><div class="usage"><code>(sum v1)</code></div><div class="doc"><div class="markdown"><p>Sum of elements</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(sum (vec (range 1000)))
;;=&gt; 499500</code></pre></div></div></div><div class="public anchor" id="var-to-polar"><h3>to-polar</h3><div class="usage"><code>(to-polar v1)</code></div><div class="doc"><div class="markdown"><p>To polar coordinates (2d, 3d only), first element is length, the rest angle.</p></div></div></div><div class="public anchor" id="var-to-vec"><h3>to-vec</h3><div class="usage"><code>(to-vec v)</code></div><div class="doc"><div class="markdown"><p>Convert to Clojure primitive vector <code>Vec</code>.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Check types</p></blockquote><pre><code class="hljs clojure">(type (to-vec [1 2 3]))
;;=&gt; class clojure.core.Vec
(type (to-vec (vec2 1 2)))
;;=&gt; class clojure.core.Vec
(type (to-vec (vec3 1 2 3)))
;;=&gt; class clojure.core.Vec
(type (to-vec (vec4 1 2 3 4)))
;;=&gt; class clojure.core.Vec
(type (to-vec (array-vec 1)))
;;=&gt; class clojure.core.Vec</code></pre></div></div></div><div class="public anchor" id="var-transform"><h3>transform</h3><div class="usage"><code>(transform v1 o vx vy)</code><code>(transform v1 o vx vy vz)</code></div><div class="doc"><div class="markdown"><p>Transform vector; map point to coordinate system defined by origin, vx and vy (as bases), 2d and 3d only.</p></div></div><div class="markdown"><h4>Examples</h4><div><blockquote><p>Usage</p></blockquote><pre><code class="hljs clojure">(transform (vec2 1 1) (vec2 -1 -1) (vec2 1.0 0.0) (vec2 0.0 1.0))
;;=&gt; #vec2 [0.0, 0.0]
(transform (vec3 1 1 1)
           (vec3 -1 -1 0)
           (vec3 1.0 0.0 1.0)
           (vec3 0.0 1.0 0.0)
           (vec3 0.0 1.0 1.0))
;;=&gt; #vec3 [0.0, 1.0, 2.0]</code></pre></div></div></div></div></div><div class="src-link"><a href="https://github.com/generateme/fastmath/blob/master/src/fastmath/vector.clj#L53">view source</a></div></div></div></body></html>